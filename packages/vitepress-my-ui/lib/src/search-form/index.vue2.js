"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const a=require("vue"),d=require("../rc-form/index.vue.js"),m=require("../utils/utils.js"),h=a.defineComponent({name:"SearchForm",emits:["onSearchSubmit","onDialogShow","custDialog","onReset","update:modelValue"],props:{modelValue:{type:Object,default:()=>({})},formList:{type:Array,default:()=>[]},staticData:{type:Object,default:()=>({})},labelWidth:{type:String,default:"100px"},initValue:{type:Object,default:()=>({})},defaultValue:{type:Object,default:()=>({})},rowNumber:{type:Number,default:3},toolsListDisabled:{type:Boolean,default:!1},show:{type:Boolean,default:!0},keepShow:{type:Boolean,default:!0},maxHeight:{type:[String,Number],default:"400"}},setup(t,{emit:l}){let o=a.reactive({form:{},show:t.show,RCFormRef:a.ref(null)});const n=()=>{o.RCFormRef.submit().then(e=>{!t.keepShow&&(o.show=!1),l("onSearchSubmit",e)}).catch(e=>{console.log(e)})};o.form=a.computed({get:()=>t.modelValue,set:e=>l("update:modelValue",e)});const s=()=>{o.form=m.deepClone(t.defaultValue),l("onReset")},r=e=>{o.show=!o.show};a.onMounted(async()=>{const e={...o.form,...t.initValue,...t.defaultValue};o.form=e});const i=(e,u={})=>{l("onDialogShow",e,u)},c=(e,u)=>{l("custDialog",e,u)},f=a.computed(()=>t.formList.filter(e=>e.isShow).length>=t.rowNumber);return{...a.toRefs(t),...a.toRefs(o),onSearchSubmit:n,onReset:s,onDialogShow:i,custDialog:c,changeShow:r,hasShow:f}},components:{RCForm:d.default,ToolsList:a.defineAsyncComponent(()=>Promise.resolve().then(()=>require("../tools-list/index.vue.js")))}});exports.default=h;
